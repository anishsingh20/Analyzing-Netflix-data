---
title: "Analyzing Netflix data"
author: "Anish Singh Walia"
output: html_notebook
---





## Some of the interesting questions (tasks) which can be performed on this dataset -

- Understanding what content is available in different countries
- Identifying similar content by matching text-based features
- Network analysis of Actors / Directors and find interesting insights
- Is Netflix has increasingly focusing on TV rather than movies in recent years.
- What types of genres are more in demand over the years


### Lets Read the data and have a look at some basic things:

```{r message=FALSE,warning=FALSE}

#reading the data
netflixdf <- read.csv("netflix_titles.csv")
attach(netflixdf)

require(dplyr)
require(highcharter)
#let's see the distribution on type of shows on Netflix:
table(type)

#let's check summary statistics of the dataset
summary(netflixdf)

```




### Let's start with analyzing  the Genres on Netflix

How the Genre of shows on Neflix relates to the other interesting variables in the dataset like country of origin, year released, type and ratings.

```{r message=FALSE,warning=FALSE}

#let's check top Genre of shows in netflix:

Genre_df <- netflixdf %>%
  group_by(listed_in) %>% 
  summarise(Count = n()) %>% 
  arrange(desc(Count)) %>% 
  top_n(30)
   

#let's plot the most produced  genres:

hchart(Genre_df,hcaes(x=listed_in,y=Count),type="column",color="#062D67",name="Count") %>% 
  hc_exporting(enabled = TRUE) %>%
  hc_title(text="Barplot of top 30 genres produced on Netflix",align="center") %>%
  hc_add_theme(hc_theme_elementary()) 



```
Shockingly there are most __"documentaries"__ on Netflix followe by __"Stand up Comedy"__ shows.


Let's check what genres were released what year.


```{r  warning=FALSE,message=FALSE}


year_genref  <- netflixdf %>% 
  filter(listed_in %in% Genre_df$listed_in)  %>% 
  select(listed_in,release_year) %>% 
  group_by(release_year,listed_in) %>% 
  mutate(Count = n())  %>% 
  arrange(desc(Count)) %>% 
  arrange(desc(release_year))
  
  
#creating dataframes for all years

year_2019 <- year_genref %>% 
  filter(release_year == "2019") %>% 
  group_by(listed_in) %>% 
  summarise(nCount= n()) %>% 
  arrange(desc(nCount))

year_2020 <- year_genref %>% 
  filter(release_year == "2020") %>% 
  group_by(listed_in) %>% 
  summarise(nCount= n()) %>% 
  arrange(desc(nCount))

year_2018 <- year_genref %>% 
  filter(release_year == "2018") %>% 
  group_by(listed_in) %>% 
  summarise(nCount= n()) %>% 
  arrange(desc(nCount))

year_2017 <- year_genref %>% 
  filter(release_year == "2017") %>% 
  group_by(listed_in) %>% 
  summarise(nCount= n()) %>% 
  arrange(desc(nCount))

year_2016 <- year_genref %>% 
  filter(release_year == "2016") %>% 
  group_by(listed_in) %>% 
  summarise(nCount= n()) %>% 
  arrange(desc(nCount))

year_2015 <- year_genref %>% 
  filter(release_year == "2015") %>% 
  group_by(listed_in) %>% 
  summarise(nCount= n()) %>% 
  arrange(desc(nCount))
```


### Let's plot the above data for last 5 years.


#### For year 2019

```{r}

  hchart(year_2019,hcaes(x=listed_in,y=nCount),type="column",color="blue",name="Count") %>% 
  hc_exporting(enabled = TRUE) %>%
  hc_title(text="Top Genres of shows produced in Year 2019",align="center") %>%
  hc_add_theme(hc_theme_elementary()) 
  
```  
  
  
  
```{r message=FALSE,warning=FALSE}

  hchart(year_2018,hcaes(x=listed_in,y=nCount),type="column",color="green",name="Count") %>% 
  hc_exporting(enabled = TRUE) %>%
  hc_title(text="Top Genres of shows produced in Year 2018 ",align="center") %>%
  hc_add_theme(hc_theme_elementary()) 
  
  
```


```{r message=FALSE,warning=FALSE}
  hchart(year_2017,hcaes(x=listed_in,y=nCount),type="column",color="orange",name="Count") %>% 
  hc_exporting(enabled = TRUE) %>%
  hc_title(text="Top Genres of shows produced in Year 2017 ",align="center") %>%
  hc_add_theme(hc_theme_elementary()) 
 
```

```{r message=FALSE,warning=FALSE}
  hchart(year_2016,hcaes(x=listed_in,y=nCount),type="column",color="purple",name="Count") %>% 
  hc_exporting(enabled = TRUE) %>%
  hc_title(text="Top Genres of shows produced in Year 2016 ",align="center") %>%
  hc_add_theme(hc_theme_elementary()) 
```



```{r message=FALSE,warning=FALSE}
  hchart(year_2015,hcaes(x=listed_in,y=nCount),type="column",color="red",name="Count") %>% 
  hc_exporting(enabled = TRUE) %>%
  hc_title(text="Top Genres of shows produced in Year 2015 ",align="center") %>%
  hc_add_theme(hc_theme_elementary()) 
  
```


